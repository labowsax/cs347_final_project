{% extends "base_generic.html" %}
{% load static %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<div class="accordion" id="foodAccordion">
    {% for logItem in LogItems %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{ forloop.counter }}">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapse{{ forloop.counter }}">
                <div style="width: 100%;display: flex; justify-content: space-between; align-items: center;">
                    <div>{{ logItem.foodItem.foodName }}</div>
                    <div>{{ logItem.date }}</div>
                </div>
            </button>
        </h2>
        <div id="collapse{{ forloop.counter }}" class="accordion-collapse collapse"
            aria-labelledby="heading{{ forloop.counter }}" data-bs-parent="#foodAccordion">
            <div class="accordion-body">
                <h3>Portions: {{ logItem.percentConsumed |floatformat:1 }}</h3>
                {% include '_food_card.html' with food_item=logItem.foodItem %}
            </div>
        </div>
    </div>
    {% empty %}
    <p>Try searching for a food!</p>
    {% endfor %}
</div>
{% endblock %}